<form class="form-horizontal" name="$ctrl.registryFormProGet" ng-submit="$ctrl.formAction()">
  <div class="col-sm-12 form-section-title"> 重要通知 </div>
  <div class="form-group">
    <div class="col-sm-12 text-muted small">
      任何可以访问此仓库的 Portainer 用户都将能够使用 Registry Manager 功能，操作 ProGet 仓库中，ProGet 用户有权限访问的任何 Feed 内容。
    </div>
  </div>
  <div class="col-sm-12 form-section-title"> ProGet 注册表详情 </div>
  <!-- name-input -->
  <div class="form-group">
    <label for="registry_name" class="col-sm-3 col-lg-2 control-label required text-left">名称</label>
    <div class="col-sm-9 col-lg-10">
      <input type="text" class="form-control" id="registry_name" name="registry_name" ng-model="$ctrl.model.Name" placeholder="proget-registry" required auto-focus />
      <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_name.$invalid">
        <div class="small text-warning">
          <div ng-messages="$ctrl.registryFormProGet.registry_name.$error">
            <p ng-message="required" class="vertical-center">
              <pr-icon icon="'alert-triangle'"></pr-icon>
              此字段为必填项。
            </p>
            <p ng-message="used" class="vertical-center">
              <pr-icon icon="'alert-triangle'"></pr-icon>
              已存在相同名称的注册表。
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- !name-input -->
  <!-- url-input -->
  <div class="form-group">
    <label for="registry_url" class="col-sm-3 col-lg-2 control-label text-left">
      <span class="required">注册表 URL</span>
      <portainer-tooltip message="'ProGet 注册表的 URL，包括 Feed 名称'"></portainer-tooltip>
    </label>
    <div class="col-sm-9 col-lg-10">
      <input type="text" class="form-control" id="registry_url" name="registry_url" ng-model="$ctrl.model.URL" placeholder="proget.example.com/example-registry" required />
      <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_url.$invalid">
        <div class="small text-warning">
          <div ng-messages="$ctrl.registryFormProGet.registry_url.$error">
            <p ng-message="required" class="vertical-center">
              <pr-icon icon="'alert-triangle'"></pr-icon>
              此字段为必填项。
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- url-input -->
  <!-- base-url-input -->
  <div class="form-group">
    <label for="registry_base_url" class="col-sm-3 col-lg-2 control-label text-left">
      <span class="required">基础 URL</span>
      <portainer-tooltip message="'ProGet 注册表的基础 URL'"></portainer-tooltip>
    </label>
    <div class="col-sm-9 col-lg-10">
      <input type="text" class="form-control" id="registry_base_url" name="registry_base_url" ng-model="$ctrl.model.BaseURL" placeholder="proget.example.com" required />
      <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_base_url.$invalid">
        <div class="small text-warning">
          <div ng-messages="$ctrl.registryFormProGet.registry_base_url.$error">
            <p ng-message="required" class="vertical-center">
              <pr-icon icon="'alert-triangle'"></pr-icon>
              此字段为必填项。
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- !base-url-input -->
  <div>
    <!-- credentials-user -->
    <div class="form-group">
      <label for="registry_username" class="col-sm-3 col-lg-2 control-label required text-left">用户名</label>
      <div class="col-sm-9 col-lg-10">
        <input type="text" class="form-control" id="registry_username" name="registry_username" ng-model="$ctrl.model.Username" required />
        <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_username.$invalid">
          <div class="small text-warning">
            <div ng-messages="$ctrl.registryFormProGet.registry_username.$error">
              <p ng-message="required" class="vertical-center">
                <pr-icon icon="'alert-triangle'"></pr-icon>
                此字段为必填项。
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- !credentials-user -->
    <!-- credentials-password -->
    <div class="form-group">
      <label for="registry_password" class="col-sm-3 col-lg-2 control-label required text-left">密码</label>
      <div class="col-sm-9 col-lg-10">
        <input type="password" class="form-control" id="registry_password" name="registry_password" ng-model="$ctrl.model.Password" required />
        <div class="help-block" ng-show="$ctrl.registryFormProGet.registry_password.$invalid">
          <div class="small text-warning">
            <div ng-messages="$ctrl.registryFormProGet.registry_password.$error">
              <p ng-message="required" class="vertical-center">
                <pr-icon icon="'alert-triangle'"></pr-icon>
                此字段为必填项。
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- !credentials-password -->
  </div>
  <!-- actions -->
  <div class="col-sm-12 form-section-title"> 操作 </div>
  <div class="form-group">
    <div class="col-sm-12">
      <button
        type="submit"
        class="btn btn-primary btn-sm"
        ng-disabled="$ctrl.actionInProgress || !$ctrl.registryFormProGet.$valid"
        button-spinner="$ctrl.actionInProgress"
        analytics-on
        analytics-category="portainer"
        analytics-event="portainer-registry-creation"
        analytics-properties="{ metadata: { type: 'proget' } }"
      >
        <span ng-hide="$ctrl.actionInProgress">{{ $ctrl.formActionLabel }}</span>
        <span ng-show="$ctrl.actionInProgress">进行中...</span>
      </button>
    </div>
  </div>
  <!-- !actions -->
</form>
